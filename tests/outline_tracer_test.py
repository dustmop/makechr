import unittest

import context
from makechr import outline_tracer
from PIL import Image


class ImageClassifier(object):
  def __init__(self, img):
    self.img = img
    self.pixels = self.img.load()

  def is_clear(self, y, x):
    p = self.pixels[x,y]
    return p[0] == p[1] == p[2]


class OutlineTracerTests(unittest.TestCase):
  def test_outline_tracer(self):
    img = Image.open('testdata/geometric-outlines.png')
    classifier = ImageClassifier(img)
    width, height = img.size
    tracer = outline_tracer.OutlineTracer(height, width, classifier.is_clear)
    regions = tracer.find_regions()
    expect = [
      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=8 x=16 idx=11>, #<Vertex kind=convex y=8 x=24 idx=0>, #<Vertex kind=reflex y=16 x=24 idx=1>, #<Vertex kind=convex y=16 x=48 idx=2>, #<Vertex kind=convex y=24 x=48 idx=3>, #<Vertex kind=reflex y=24 x=40 idx=4>, #<Vertex kind=convex y=48 x=40 idx=5>, #<Vertex kind=convex y=48 x=32 idx=6>, #<Vertex kind=reflex y=40 x=32 idx=7>, #<Vertex kind=convex y=40 x=8 idx=8>, #<Vertex kind=convex y=32 x=8 idx=9>, #<Vertex kind=reflex y=32 x=16 idx=10>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=8 x=60 idx=11>, #<Vertex kind=convex y=8 x=68 idx=0>, #<Vertex kind=reflex y=21 x=68 idx=1>, #<Vertex kind=reflex y=21 x=72 idx=2>, #<Vertex kind=convex y=8 x=72 idx=3>, #<Vertex kind=convex y=8 x=80 idx=4>, #<Vertex kind=convex y=24 x=80 idx=5>, #<Vertex kind=reflex y=24 x=78 idx=6>, #<Vertex kind=convex y=29 x=78 idx=7>, #<Vertex kind=convex y=29 x=62 idx=8>, #<Vertex kind=reflex y=24 x=62 idx=9>, #<Vertex kind=convex y=24 x=60 idx=10>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=8 x=93 idx=11>, #<Vertex kind=convex y=8 x=104 idx=0>, #<Vertex kind=reflex y=24 x=104 idx=1>, #<Vertex kind=reflex y=24 x=108 idx=2>, #<Vertex kind=convex y=8 x=108 idx=3>, #<Vertex kind=convex y=8 x=119 idx=4>, #<Vertex kind=convex y=21 x=119 idx=5>, #<Vertex kind=reflex y=21 x=116 idx=6>, #<Vertex kind=convex y=32 x=116 idx=7>, #<Vertex kind=convex y=32 x=96 idx=8>, #<Vertex kind=reflex y=21 x=96 idx=9>, #<Vertex kind=convex y=21 x=93 idx=10>]>',

      '#<RegionPerimeter edges=10 vertices=10 points=[#<Vertex kind=convex y=8 x=128 idx=9>, #<Vertex kind=convex y=8 x=139 idx=0>, #<Vertex kind=reflex y=24 x=139 idx=1>, #<Vertex kind=reflex y=24 x=143 idx=2>, #<Vertex kind=convex y=8 x=143 idx=3>, #<Vertex kind=convex y=8 x=151 idx=4>, #<Vertex kind=convex y=32 x=151 idx=5>, #<Vertex kind=convex y=32 x=131 idx=6>, #<Vertex kind=reflex y=21 x=131 idx=7>, #<Vertex kind=convex y=21 x=128 idx=8>]>',

      '#<RegionPerimeter edges=16 vertices=16 points=[#<Vertex kind=convex y=11 x=160 idx=15>, #<Vertex kind=convex y=11 x=170 idx=0>, #<Vertex kind=reflex y=24 x=170 idx=1>, #<Vertex kind=reflex y=24 x=174 idx=2>, #<Vertex kind=convex y=11 x=174 idx=3>, #<Vertex kind=convex y=11 x=184 idx=4>, #<Vertex kind=convex y=19 x=184 idx=5>, #<Vertex kind=reflex y=19 x=182 idx=6>, #<Vertex kind=convex y=27 x=182 idx=7>, #<Vertex kind=reflex y=27 x=176 idx=8>, #<Vertex kind=convex y=32 x=176 idx=9>, #<Vertex kind=convex y=32 x=168 idx=10>, #<Vertex kind=reflex y=27 x=168 idx=11>, #<Vertex kind=convex y=27 x=162 idx=12>, #<Vertex kind=reflex y=19 x=162 idx=13>, #<Vertex kind=convex y=19 x=160 idx=14>]>',

      '#<RegionPerimeter edges=14 vertices=14 points=[#<Vertex kind=convex y=11 x=192 idx=13>, #<Vertex kind=convex y=11 x=202 idx=0>, #<Vertex kind=reflex y=24 x=202 idx=1>, #<Vertex kind=reflex y=24 x=206 idx=2>, #<Vertex kind=convex y=11 x=206 idx=3>, #<Vertex kind=convex y=11 x=214 idx=4>, #<Vertex kind=convex y=27 x=214 idx=5>, #<Vertex kind=reflex y=27 x=208 idx=6>, #<Vertex kind=convex y=32 x=208 idx=7>, #<Vertex kind=convex y=32 x=200 idx=8>, #<Vertex kind=reflex y=27 x=200 idx=9>, #<Vertex kind=convex y=27 x=194 idx=10>, #<Vertex kind=reflex y=19 x=194 idx=11>, #<Vertex kind=convex y=19 x=192 idx=12>]>',

      '#<RegionPerimeter edges=28 vertices=28 points=[#<Vertex kind=convex y=56 x=16 idx=27>, #<Vertex kind=convex y=56 x=24 idx=0>, #<Vertex kind=reflex y=64 x=24 idx=1>, #<Vertex kind=reflex y=64 x=32 idx=2>, #<Vertex kind=convex y=56 x=32 idx=3>, #<Vertex kind=convex y=56 x=40 idx=4>, #<Vertex kind=reflex y=64 x=40 idx=5>, #<Vertex kind=convex y=64 x=48 idx=6>, #<Vertex kind=convex y=72 x=48 idx=7>, #<Vertex kind=reflex y=72 x=40 idx=8>, #<Vertex kind=reflex y=80 x=40 idx=9>, #<Vertex kind=convex y=80 x=48 idx=10>, #<Vertex kind=convex y=88 x=48 idx=11>, #<Vertex kind=reflex y=88 x=40 idx=12>, #<Vertex kind=convex y=96 x=40 idx=13>, #<Vertex kind=convex y=96 x=32 idx=14>, #<Vertex kind=reflex y=88 x=32 idx=15>, #<Vertex kind=reflex y=88 x=24 idx=16>, #<Vertex kind=convex y=96 x=24 idx=17>, #<Vertex kind=convex y=96 x=16 idx=18>, #<Vertex kind=reflex y=88 x=16 idx=19>, #<Vertex kind=convex y=88 x=8 idx=20>, #<Vertex kind=convex y=80 x=8 idx=21>, #<Vertex kind=reflex y=80 x=16 idx=22>, #<Vertex kind=reflex y=72 x=16 idx=23>, #<Vertex kind=convex y=72 x=8 idx=24>, #<Vertex kind=convex y=64 x=8 idx=25>, #<Vertex kind=reflex y=64 x=16 idx=26>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=56 x=56 idx=11>, #<Vertex kind=convex y=56 x=96 idx=0>, #<Vertex kind=convex y=64 x=96 idx=1>, #<Vertex kind=reflex y=64 x=88 idx=2>, #<Vertex kind=reflex y=72 x=88 idx=3>, #<Vertex kind=convex y=72 x=96 idx=4>, #<Vertex kind=convex y=80 x=96 idx=5>, #<Vertex kind=convex y=80 x=56 idx=6>, #<Vertex kind=convex y=72 x=56 idx=7>, #<Vertex kind=reflex y=72 x=64 idx=8>, #<Vertex kind=reflex y=64 x=64 idx=9>, #<Vertex kind=convex y=64 x=56 idx=10>]>',

      '#<RegionPerimeter edges=10 vertices=10 points=[#<Vertex kind=convex y=56 x=109 idx=9>, #<Vertex kind=convex y=56 x=120 idx=0>, #<Vertex kind=reflex y=72 x=120 idx=1>, #<Vertex kind=reflex y=72 x=124 idx=2>, #<Vertex kind=convex y=56 x=124 idx=3>, #<Vertex kind=convex y=56 x=132 idx=4>, #<Vertex kind=convex y=96 x=132 idx=5>, #<Vertex kind=convex y=96 x=112 idx=6>, #<Vertex kind=reflex y=69 x=112 idx=7>, #<Vertex kind=convex y=69 x=109 idx=8>]>',

      '#<RegionPerimeter edges=16 vertices=16 points=[#<Vertex kind=convex y=59 x=148 idx=15>, #<Vertex kind=convex y=59 x=158 idx=0>, #<Vertex kind=reflex y=72 x=158 idx=1>, #<Vertex kind=reflex y=72 x=162 idx=2>, #<Vertex kind=convex y=59 x=162 idx=3>, #<Vertex kind=convex y=59 x=172 idx=4>, #<Vertex kind=convex y=67 x=172 idx=5>, #<Vertex kind=reflex y=67 x=170 idx=6>, #<Vertex kind=convex y=91 x=170 idx=7>, #<Vertex kind=reflex y=91 x=164 idx=8>, #<Vertex kind=convex y=96 x=164 idx=9>, #<Vertex kind=convex y=96 x=156 idx=10>, #<Vertex kind=reflex y=91 x=156 idx=11>, #<Vertex kind=convex y=91 x=150 idx=12>, #<Vertex kind=reflex y=67 x=150 idx=13>, #<Vertex kind=convex y=67 x=148 idx=14>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=62 x=184 idx=11>, #<Vertex kind=convex y=62 x=192 idx=0>, #<Vertex kind=reflex y=76 x=192 idx=1>, #<Vertex kind=convex y=76 x=195 idx=2>, #<Vertex kind=reflex y=80 x=195 idx=3>, #<Vertex kind=reflex y=80 x=199 idx=4>, #<Vertex kind=convex y=64 x=199 idx=5>, #<Vertex kind=convex y=64 x=207 idx=6>, #<Vertex kind=convex y=88 x=207 idx=7>, #<Vertex kind=convex y=88 x=187 idx=8>, #<Vertex kind=reflex y=78 x=187 idx=9>, #<Vertex kind=convex y=78 x=184 idx=10>]>',

      '#<RegionPerimeter edges=14 vertices=14 points=[#<Vertex kind=convex y=112 x=22 idx=13>, #<Vertex kind=convex y=112 x=30 idx=0>, #<Vertex kind=convex y=120 x=30 idx=1>, #<Vertex kind=reflex y=120 x=22 idx=2>, #<Vertex kind=convex y=122 x=22 idx=3>, #<Vertex kind=reflex y=122 x=20 idx=4>, #<Vertex kind=convex y=128 x=20 idx=5>, #<Vertex kind=convex y=128 x=12 idx=6>, #<Vertex kind=reflex y=124 x=12 idx=7>, #<Vertex kind=convex y=124 x=8 idx=8>, #<Vertex kind=convex y=116 x=8 idx=9>, #<Vertex kind=reflex y=116 x=14 idx=10>, #<Vertex kind=convex y=114 x=14 idx=11>, #<Vertex kind=reflex y=114 x=22 idx=12>]>',

      '#<RegionPerimeter edges=16 vertices=16 points=[#<Vertex kind=convex y=112 x=40 idx=15>, #<Vertex kind=convex y=112 x=48 idx=0>, #<Vertex kind=reflex y=120 x=48 idx=1>, #<Vertex kind=reflex y=120 x=51 idx=2>, #<Vertex kind=convex y=113 x=51 idx=3>, #<Vertex kind=convex y=113 x=59 idx=4>, #<Vertex kind=convex y=121 x=59 idx=5>, #<Vertex kind=reflex y=121 x=52 idx=6>, #<Vertex kind=reflex y=128 x=52 idx=7>, #<Vertex kind=convex y=128 x=57 idx=8>, #<Vertex kind=convex y=136 x=57 idx=9>, #<Vertex kind=convex y=136 x=41 idx=10>, #<Vertex kind=convex y=128 x=41 idx=11>, #<Vertex kind=reflex y=128 x=44 idx=12>, #<Vertex kind=reflex y=120 x=44 idx=13>, #<Vertex kind=convex y=120 x=40 idx=14>]>',

      '#<RegionPerimeter edges=20 vertices=20 points=[#<Vertex kind=convex y=112 x=72 idx=19>, #<Vertex kind=convex y=112 x=80 idx=0>, #<Vertex kind=reflex y=117 x=80 idx=1>, #<Vertex kind=reflex y=117 x=82 idx=2>, #<Vertex kind=convex y=112 x=82 idx=3>, #<Vertex kind=convex y=112 x=90 idx=4>, #<Vertex kind=convex y=120 x=90 idx=5>, #<Vertex kind=reflex y=120 x=85 idx=6>, #<Vertex kind=reflex y=122 x=85 idx=7>, #<Vertex kind=convex y=122 x=90 idx=8>, #<Vertex kind=convex y=130 x=90 idx=9>, #<Vertex kind=convex y=130 x=82 idx=10>, #<Vertex kind=reflex y=125 x=82 idx=11>, #<Vertex kind=reflex y=125 x=80 idx=12>, #<Vertex kind=convex y=130 x=80 idx=13>, #<Vertex kind=convex y=130 x=72 idx=14>, #<Vertex kind=convex y=122 x=72 idx=15>, #<Vertex kind=reflex y=122 x=77 idx=16>, #<Vertex kind=reflex y=120 x=77 idx=17>, #<Vertex kind=convex y=120 x=72 idx=18>]>',

      '#<RegionPerimeter edges=26 vertices=26 points=[#<Vertex kind=convex y=112 x=112 idx=25>, #<Vertex kind=convex y=112 x=120 idx=0>, #<Vertex kind=convex y=120 x=120 idx=1>, #<Vertex kind=reflex y=120 x=112 idx=2>, #<Vertex kind=reflex y=124 x=112 idx=3>, #<Vertex kind=convex y=124 x=123 idx=4>, #<Vertex kind=reflex y=134 x=123 idx=5>, #<Vertex kind=convex y=134 x=125 idx=6>, #<Vertex kind=convex y=142 x=125 idx=7>, #<Vertex kind=convex y=142 x=117 idx=8>, #<Vertex kind=reflex y=140 x=117 idx=9>, #<Vertex kind=convex y=140 x=115 idx=10>, #<Vertex kind=reflex y=132 x=115 idx=11>, #<Vertex kind=reflex y=132 x=108 idx=12>, #<Vertex kind=convex y=136 x=108 idx=13>, #<Vertex kind=reflex y=136 x=104 idx=14>, #<Vertex kind=convex y=140 x=104 idx=15>, #<Vertex kind=convex y=140 x=96 idx=16>, #<Vertex kind=convex y=132 x=96 idx=17>, #<Vertex kind=reflex y=132 x=100 idx=18>, #<Vertex kind=convex y=128 x=100 idx=19>, #<Vertex kind=reflex y=128 x=107 idx=20>, #<Vertex kind=reflex y=124 x=107 idx=21>, #<Vertex kind=convex y=124 x=104 idx=22>, #<Vertex kind=convex y=116 x=104 idx=23>, #<Vertex kind=reflex y=116 x=112 idx=24>]>',

      '#<RegionPerimeter edges=26 vertices=26 points=[#<Vertex kind=convex y=114 x=144 idx=25>, #<Vertex kind=convex y=114 x=152 idx=0>, #<Vertex kind=convex y=122 x=152 idx=1>, #<Vertex kind=reflex y=122 x=144 idx=2>, #<Vertex kind=reflex y=124 x=144 idx=3>, #<Vertex kind=convex y=124 x=155 idx=4>, #<Vertex kind=reflex y=134 x=155 idx=5>, #<Vertex kind=convex y=134 x=157 idx=6>, #<Vertex kind=convex y=142 x=157 idx=7>, #<Vertex kind=convex y=142 x=149 idx=8>, #<Vertex kind=reflex y=140 x=149 idx=9>, #<Vertex kind=convex y=140 x=147 idx=10>, #<Vertex kind=reflex y=132 x=147 idx=11>, #<Vertex kind=reflex y=132 x=140 idx=12>, #<Vertex kind=convex y=136 x=140 idx=13>, #<Vertex kind=reflex y=136 x=136 idx=14>, #<Vertex kind=convex y=140 x=136 idx=15>, #<Vertex kind=convex y=140 x=128 idx=16>, #<Vertex kind=convex y=132 x=128 idx=17>, #<Vertex kind=reflex y=132 x=132 idx=18>, #<Vertex kind=convex y=128 x=132 idx=19>, #<Vertex kind=reflex y=128 x=139 idx=20>, #<Vertex kind=reflex y=126 x=139 idx=21>, #<Vertex kind=convex y=126 x=136 idx=22>, #<Vertex kind=convex y=118 x=136 idx=23>, #<Vertex kind=reflex y=118 x=144 idx=24>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=114 x=160 idx=11>, #<Vertex kind=convex y=114 x=168 idx=0>, #<Vertex kind=reflex y=130 x=168 idx=1>, #<Vertex kind=convex y=130 x=171 idx=2>, #<Vertex kind=reflex y=132 x=171 idx=3>, #<Vertex kind=reflex y=132 x=175 idx=4>, #<Vertex kind=convex y=116 x=175 idx=5>, #<Vertex kind=convex y=116 x=183 idx=6>, #<Vertex kind=convex y=140 x=183 idx=7>, #<Vertex kind=convex y=140 x=163 idx=8>, #<Vertex kind=reflex y=130 x=163 idx=9>, #<Vertex kind=convex y=130 x=160 idx=10>]>',

      '#<RegionPerimeter edges=14 vertices=14 points=[#<Vertex kind=convex y=114 x=192 idx=13>, #<Vertex kind=convex y=114 x=200 idx=0>, #<Vertex kind=reflex y=128 x=200 idx=1>, #<Vertex kind=convex y=128 x=203 idx=2>, #<Vertex kind=reflex y=132 x=203 idx=3>, #<Vertex kind=reflex y=132 x=207 idx=4>, #<Vertex kind=convex y=116 x=207 idx=5>, #<Vertex kind=convex y=116 x=215 idx=6>, #<Vertex kind=convex y=140 x=215 idx=7>, #<Vertex kind=convex y=140 x=203 idx=8>, #<Vertex kind=reflex y=136 x=203 idx=9>, #<Vertex kind=convex y=136 x=195 idx=10>, #<Vertex kind=reflex y=130 x=195 idx=11>, #<Vertex kind=convex y=130 x=192 idx=12>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=152 x=24 idx=11>, #<Vertex kind=convex y=152 x=32 idx=0>, #<Vertex kind=convex y=160 x=32 idx=1>, #<Vertex kind=reflex y=160 x=26 idx=2>, #<Vertex kind=convex y=166 x=26 idx=3>, #<Vertex kind=convex y=166 x=18 idx=4>, #<Vertex kind=reflex y=164 x=18 idx=5>, #<Vertex kind=convex y=164 x=12 idx=6>, #<Vertex kind=convex y=156 x=12 idx=7>, #<Vertex kind=reflex y=156 x=16 idx=8>, #<Vertex kind=convex y=154 x=16 idx=9>, #<Vertex kind=reflex y=154 x=24 idx=10>]>',

      '#<RegionPerimeter edges=16 vertices=16 points=[#<Vertex kind=convex y=152 x=48 idx=15>, #<Vertex kind=convex y=152 x=56 idx=0>, #<Vertex kind=reflex y=159 x=56 idx=1>, #<Vertex kind=convex y=159 x=60 idx=2>, #<Vertex kind=reflex y=165 x=60 idx=3>, #<Vertex kind=convex y=165 x=63 idx=4>, #<Vertex kind=convex y=173 x=63 idx=5>, #<Vertex kind=reflex y=173 x=56 idx=6>, #<Vertex kind=convex y=175 x=56 idx=7>, #<Vertex kind=convex y=175 x=48 idx=8>, #<Vertex kind=reflex y=173 x=48 idx=9>, #<Vertex kind=convex y=173 x=41 idx=10>, #<Vertex kind=convex y=165 x=41 idx=11>, #<Vertex kind=reflex y=165 x=44 idx=12>, #<Vertex kind=convex y=159 x=44 idx=13>, #<Vertex kind=reflex y=159 x=48 idx=14>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=152 x=80 idx=11>, #<Vertex kind=convex y=152 x=88 idx=0>, #<Vertex kind=convex y=160 x=88 idx=1>, #<Vertex kind=reflex y=160 x=86 idx=2>, #<Vertex kind=reflex y=166 x=86 idx=3>, #<Vertex kind=convex y=166 x=93 idx=4>, #<Vertex kind=convex y=174 x=93 idx=5>, #<Vertex kind=convex y=174 x=77 idx=6>, #<Vertex kind=convex y=166 x=77 idx=7>, #<Vertex kind=reflex y=166 x=78 idx=8>, #<Vertex kind=convex y=158 x=78 idx=9>, #<Vertex kind=reflex y=158 x=80 idx=10>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=153 x=101 idx=11>, #<Vertex kind=convex y=153 x=109 idx=0>, #<Vertex kind=reflex y=161 x=109 idx=1>, #<Vertex kind=convex y=161 x=111 idx=2>, #<Vertex kind=reflex y=167 x=111 idx=3>, #<Vertex kind=convex y=167 x=118 idx=4>, #<Vertex kind=convex y=175 x=118 idx=5>, #<Vertex kind=convex y=175 x=102 idx=6>, #<Vertex kind=convex y=167 x=102 idx=7>, #<Vertex kind=reflex y=167 x=103 idx=8>, #<Vertex kind=reflex y=161 x=103 idx=9>, #<Vertex kind=convex y=161 x=101 idx=10>]>',

      '#<RegionPerimeter edges=10 vertices=10 points=[#<Vertex kind=convex y=154 x=136 idx=9>, #<Vertex kind=convex y=154 x=144 idx=0>, #<Vertex kind=convex y=162 x=144 idx=1>, #<Vertex kind=reflex y=162 x=143 idx=2>, #<Vertex kind=convex y=177 x=143 idx=3>, #<Vertex kind=convex y=177 x=135 idx=4>, #<Vertex kind=reflex y=164 x=135 idx=5>, #<Vertex kind=convex y=164 x=128 idx=6>, #<Vertex kind=convex y=156 x=128 idx=7>, #<Vertex kind=reflex y=156 x=136 idx=8>]>',

      '#<RegionPerimeter edges=12 vertices=12 points=[#<Vertex kind=convex y=154 x=160 idx=11>, #<Vertex kind=convex y=154 x=168 idx=0>, #<Vertex kind=reflex y=159 x=168 idx=1>, #<Vertex kind=convex y=159 x=174 idx=2>, #<Vertex kind=convex y=167 x=174 idx=3>, #<Vertex kind=reflex y=167 x=173 idx=4>, #<Vertex kind=convex y=182 x=173 idx=5>, #<Vertex kind=convex y=182 x=165 idx=6>, #<Vertex kind=reflex y=170 x=165 idx=7>, #<Vertex kind=convex y=170 x=157 idx=8>, #<Vertex kind=convex y=162 x=157 idx=9>, #<Vertex kind=reflex y=162 x=160 idx=10>]>',

      '#<RegionPerimeter edges=14 vertices=14 points=[#<Vertex kind=convex y=184 x=16 idx=13>, #<Vertex kind=convex y=184 x=24 idx=0>, #<Vertex kind=convex y=192 x=24 idx=1>, #<Vertex kind=reflex y=192 x=22 idx=2>, #<Vertex kind=reflex y=197 x=22 idx=3>, #<Vertex kind=convex y=197 x=28 idx=4>, #<Vertex kind=convex y=205 x=28 idx=5>, #<Vertex kind=reflex y=205 x=21 idx=6>, #<Vertex kind=convex y=206 x=21 idx=7>, #<Vertex kind=convex y=206 x=13 idx=8>, #<Vertex kind=convex y=198 x=13 idx=9>, #<Vertex kind=reflex y=198 x=14 idx=10>, #<Vertex kind=convex y=190 x=14 idx=11>, #<Vertex kind=reflex y=190 x=16 idx=12>]>',

      '#<RegionPerimeter edges=14 vertices=14 points=[#<Vertex kind=convex y=184 x=36 idx=13>, #<Vertex kind=convex y=184 x=44 idx=0>, #<Vertex kind=convex y=192 x=44 idx=1>, #<Vertex kind=reflex y=192 x=42 idx=2>, #<Vertex kind=reflex y=198 x=42 idx=3>, #<Vertex kind=convex y=198 x=49 idx=4>, #<Vertex kind=convex y=206 x=49 idx=5>, #<Vertex kind=convex y=206 x=41 idx=6>, #<Vertex kind=reflex y=205 x=41 idx=7>, #<Vertex kind=convex y=205 x=33 idx=8>, #<Vertex kind=convex y=197 x=33 idx=9>, #<Vertex kind=reflex y=197 x=34 idx=10>, #<Vertex kind=convex y=190 x=34 idx=11>, #<Vertex kind=reflex y=190 x=36 idx=12>]>',

      '#<RegionPerimeter edges=14 vertices=14 points=[#<Vertex kind=convex y=184 x=56 idx=13>, #<Vertex kind=convex y=184 x=64 idx=0>, #<Vertex kind=convex y=192 x=64 idx=1>, #<Vertex kind=reflex y=192 x=62 idx=2>, #<Vertex kind=reflex y=196 x=62 idx=3>, #<Vertex kind=convex y=196 x=68 idx=4>, #<Vertex kind=convex y=204 x=68 idx=5>, #<Vertex kind=reflex y=204 x=63 idx=6>, #<Vertex kind=convex y=205 x=63 idx=7>, #<Vertex kind=convex y=205 x=55 idx=8>, #<Vertex kind=reflex y=198 x=55 idx=9>, #<Vertex kind=convex y=198 x=54 idx=10>, #<Vertex kind=convex y=190 x=54 idx=11>, #<Vertex kind=reflex y=190 x=56 idx=12>]>',

      '#<RegionPerimeter edges=16 vertices=16 points=[#<Vertex kind=convex y=184 x=78 idx=15>, #<Vertex kind=convex y=184 x=86 idx=0>, #<Vertex kind=convex y=192 x=86 idx=1>, #<Vertex kind=reflex y=192 x=84 idx=2>, #<Vertex kind=reflex y=197 x=84 idx=3>, #<Vertex kind=convex y=197 x=85 idx=4>, #<Vertex kind=reflex y=198 x=85 idx=5>, #<Vertex kind=convex y=198 x=90 idx=6>, #<Vertex kind=convex y=206 x=90 idx=7>, #<Vertex kind=convex y=206 x=82 idx=8>, #<Vertex kind=reflex y=205 x=82 idx=9>, #<Vertex kind=convex y=205 x=77 idx=10>, #<Vertex kind=reflex y=198 x=77 idx=11>, #<Vertex kind=convex y=198 x=76 idx=12>, #<Vertex kind=convex y=190 x=76 idx=13>, #<Vertex kind=reflex y=190 x=78 idx=14>]>',

      '#<RegionPerimeter edges=20 vertices=20 points=[#<Vertex kind=convex y=184 x=96 idx=19>, #<Vertex kind=convex y=184 x=104 idx=0>, #<Vertex kind=reflex y=190 x=104 idx=1>, #<Vertex kind=reflex y=190 x=106 idx=2>, #<Vertex kind=convex y=184 x=106 idx=3>, #<Vertex kind=convex y=184 x=114 idx=4>, #<Vertex kind=convex y=192 x=114 idx=5>, #<Vertex kind=reflex y=192 x=110 idx=6>, #<Vertex kind=reflex y=196 x=110 idx=7>, #<Vertex kind=convex y=196 x=117 idx=8>, #<Vertex kind=convex y=204 x=117 idx=9>, #<Vertex kind=convex y=204 x=109 idx=10>, #<Vertex kind=reflex y=198 x=109 idx=11>, #<Vertex kind=reflex y=198 x=107 idx=12>, #<Vertex kind=convex y=204 x=107 idx=13>, #<Vertex kind=convex y=204 x=99 idx=14>, #<Vertex kind=convex y=196 x=99 idx=15>, #<Vertex kind=reflex y=196 x=102 idx=16>, #<Vertex kind=reflex y=192 x=102 idx=17>, #<Vertex kind=convex y=192 x=96 idx=18>]>',
    ]

    for i, r in enumerate(regions):
      self.assertEqual('%s' % r, expect[i])


if __name__ == '__main__':
  unittest.main()
